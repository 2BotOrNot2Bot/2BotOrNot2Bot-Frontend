<!--@Description: Independent sub-tag for displaying stats of a chatbot: including ranking, icon, and detailed statistics-->
<!--@author Tianyi(Lorena) Yan-->

<template>
  <div class="stats" ref="stats">
    <span style="font-weight: 500">{{rank}} {{displayName}}</span>
<!--    background and chatbot icon-->
    <div class="main">
      <div>
  <!--      Gold-->
        <svg v-if="rank === 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212.66 206.86"><path d="M24.31,25.78C46.89,2.85,79.2,1.49,104.37.43c23.09-1,62.65-2.65,88.07,25.35,17.69,19.48,19.47,43.35,20,50.71,2.72,36.49-22.87,65.82-34.7,81.39-14.57,19.19-29.12,42.71-64,48-41.64,6.36-73.39-21.7-77.39-25.35C-6.39,141.61-12.76,63.41,24.31,25.78Z" style="fill:#ffc37b"/></svg>
  <!--      Silver-->
        <svg v-else-if="rank === 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 145.4 140.25"><path d="M79.19,0C100.34.41,126.9,10.55,139,33.88c9.56,18.39,5.93,36.84,4.52,44a78.44,78.44,0,0,1-26,44c-4.3,3.63-25.25,20.49-55.32,18.06-5.51-.44-39.54-3.19-55.32-31.61-16-28.83.31-59.67,3.39-65.48C22.21,20.43,47.58-.59,79.19,0Z" style="fill:#b7b7b7"/></svg>
  <!--      Bronze-->
        <svg v-else xmlns="http://www.w3.org/2000/svg" viewBox="0 0 148.01 131.56"><path d="M30.12,20.92c6.67-5.88,17.61-15.27,35-19.2a73.32,73.32,0,0,1,45.16,4.52c7.13,3.14,20.84,9.17,29.35,23.71,10.86,18.55,9.3,32.76,5.65,47.42-2.63,10.52-5.38,23.24-14.68,31.61-7.38,6.64-13,11-22.58,13.55C95,126,93.09,123.94,70.76,127c-18.09,2.52-18.06,4.52-29.35,4.52-16,0-30.59-14.37-37.26-29.35-7.74-17.37-2.8-33.67,0-42.91C10.43,38.55,23.85,26.44,30.12,20.92Z" style="fill:#d18856"/></svg>
      </div>

<!--      Robomatic-->
      <svg style="left: 21%; top: 20px" class="botIcon" v-if="name === 'robomatic'" xmlns="http://www.w3.org/2000/svg" height="60%" viewBox="0 0 24 24" width="60%" fill="#FFFFFF"><g><rect fill="none" height="24" width="24" y="0"/></g><g><g><path d="M20,9V7c0-1.1-0.9-2-2-2h-3c0-1.66-1.34-3-3-3S9,3.34,9,5H6C4.9,5,4,5.9,4,7v2c-1.66,0-3,1.34-3,3s1.34,3,3,3v4 c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-4c1.66,0,3-1.34,3-3S21.66,9,20,9z M18,19L6,19V7h12V19z M9,13c-0.83,0-1.5-0.67-1.5-1.5 S8.17,10,9,10s1.5,0.67,1.5,1.5S9.83,13,9,13z M16.5,11.5c0,0.83-0.67,1.5-1.5,1.5s-1.5-0.67-1.5-1.5S14.17,10,15,10 S16.5,10.67,16.5,11.5z M8,15h8v2H8V15z"/></g></g></svg>
<!--      Dialog flow-->
      <svg :style="botIconStyle" class="botIcon" v-else-if="name === 'dialogflow'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 102.67 130.09"><path d="M100.9,28.11l-.07-.13a7.66,7.66,0,0,0-2.77-2.41l-8.4-4.84L56.17,1.4a9,9,0,0,0-9.58-.06c-1.17.66-2.32,1.34-3.48,2L14.44,19.89c-3.34,1.92-6.68,3.83-10,5.78a7.47,7.47,0,0,0-3.29,3.38A6.46,6.46,0,0,0,0,32.83q0,25,0,50.06a7.69,7.69,0,0,0,3.86,6.86c6.94,4.15,14,8.15,21,12.2a1.39,1.39,0,0,1,.82,1.38c0,8,0,16,0,24.06a2.43,2.43,0,0,0,1,2.15,2.82,2.82,0,0,0,3.33,0L98,90.26a8.75,8.75,0,0,0,4.66-8q0-10.32,0-20.64,0-14.28,0-28.56a7.26,7.26,0,0,0-1.76-4.92Z" style="fill:#fefefd"/><path d="M100.9,28.11A7.26,7.26,0,0,1,102.66,33q0,14.28,0,28.56,0,10.32,0,20.64a8.75,8.75,0,0,1-4.66,8L30,129.54a2.82,2.82,0,0,1-3.33,0,2.43,2.43,0,0,1-1-2.15c0-8,0-16,0-24.06a1.39,1.39,0,0,0-.82-1.38c-7-4-14-8-21-12.2A7.69,7.69,0,0,1,0,82.89q0-25,0-50.06a6.46,6.46,0,0,1,1.15-3.78,11.26,11.26,0,0,1,1.49.59c2,1.15,4,2.35,6,3.51,2.87,1.66,5.77,3.27,8.63,5,1.37.8,2.72,1.65,4.07,2.49s2.9,1.62,4.34,2.46c3.22,1.87,6.41,3.79,9.62,5.67,1.17.69,2.4,1.28,3.57,2,2.22,1.29,4.4,2.64,6.63,3.91a57.85,57.85,0,0,1,5,2.95,1,1,0,0,0,1.39,0c2-1.41,4.24-2.38,6.27-3.72.91-.59,1.93-1,2.85-1.52,1.89-1.15,3.8-2.26,5.72-3.36,2.45-1.41,4.93-2.79,7.38-4.19s5-2.86,7.42-4.31c1.66-1,3.37-1.87,5-2.88,2.35-1.44,4.8-2.71,7.14-4.16,2.11-1.31,4.28-2.55,6.48-3.71C101,29.3,101.38,28.94,100.9,28.11Z" style="fill:#ee6c00"/><path d="M100.9,28.11c.48.83.14,1.19-.66,1.61-2.2,1.16-4.37,2.4-6.48,3.71-2.34,1.45-4.79,2.72-7.14,4.16-1.64,1-3.35,1.9-5,2.88-2.47,1.45-4.94,2.88-7.42,4.31S69.26,47.56,66.81,49c-1.92,1.1-3.83,2.21-5.72,3.36-.92.57-1.94.93-2.85,1.52-2,1.34-4.28,2.31-6.27,3.72a1,1,0,0,1-1.39,0,57.85,57.85,0,0,0-5-2.95C43.3,53.33,41.12,52,38.9,50.69c-1.17-.68-2.4-1.27-3.57-2-3.21-1.88-6.4-3.8-9.62-5.67-1.44-.84-2.94-1.59-4.34-2.46s-2.7-1.69-4.07-2.49c-2.86-1.69-5.76-3.3-8.63-5-2-1.16-4-2.36-6-3.51a11.26,11.26,0,0,0-1.49-.59,7.47,7.47,0,0,1,3.29-3.38c3.32-2,6.66-3.86,10-5.78L43.11,3.35c1.16-.67,2.31-1.35,3.48-2a9,9,0,0,1,9.58.06L89.66,20.73l8.4,4.84A7.66,7.66,0,0,1,100.83,28c0,.08,0,.12.07.13Z" style="fill:#fe9600"/><path d="M100.9,28.11c-.06,0-.11-.05-.07-.13Z" style="fill:#ee6c00"/></svg>
<!--      Brainshop-->
      <img v-else-if="name === 'brainshop'" style="left: 19%;right: 25%;top: 15px;position: absolute;width: 67%;" alt="" :src="brainshop"/>
<!--      aichatbot-->
      <img v-else-if="name === 'aichatbot'" style="left: 19%;right: 25%;top: 20px;position: absolute;width: 60%;" alt="" :src="aichatbot"/>
    </div>
    <span>{{displayStats}}%</span>
  </div>
</template>

<script>
export default {
  name: "stats-tag",
  props: {
    rank: Number,
    stats: Number,
    name: String,
  },
  computed: {
    color () {
      if (this.rank === 1) {
        return "rgb(237, 179, 108)";
      } else if (this.rank === 2) {
        return "rgb(122, 122, 122)";
      } else {
        return "rgb(193, 133, 92)";
      }
    },
    botIconStyle () {
      if (this.rank === 1) {
        return {left: '20%', right: '20%', top: '15px'};
      } else if (this.rank === 2) {
        return {left: '25%', right: '25%', top: '15px'};
      } else {
        return {left: '27%', right: '27%', top: '20px'};
      }
    }
  },
  mounted() {
    this.$refs.stats.style.color = this.color;
    // Reserve 2 digits
    this.displayStats = this.stats.toFixed(2);
    this.displayName = this.name.toUpperCase();
  },
  data () {
    return {
      brainshop: require("@/assets/brainshop.png"),
      aichatbot: require("@/assets/aichatbot.jpg"),
      displayStats: '',
      displayName: ''
    }
  }
}
</script>

<style scoped lang="less">
.stats {
  height: 100%;
  display: inline-block;
  text-align: center;
}
.main {
  position: relative;
  .botIcon {
    position: absolute;
  }
}
</style>
