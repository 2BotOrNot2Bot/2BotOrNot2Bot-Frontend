{"version":3,"sources":["webpack:///src/pages/pc/login.vue","webpack:///./src/pages/pc/login.vue?0947","webpack:///./src/pages/pc/login.vue","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js"],"names":["login","name","data","email","password","logo","__webpack_require__","methods","signIn","_this","this","$message","error","loading","element_ui_common","service","lock","text","spinner","background","Object","index_esm","main","then","userCredential","user","getIdToken","result","sessionStorage","setItem","stringify_default","id_token","uid","userId","$axios","get","api","params","score","close","success","setTimeout","$router","push","catch","err","console","log","code","message","pc_login","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","src","alt","_v","staticStyle","margin","color","font-size","to","text-decoration","placeholder","model","value","callback","$$v","expression","show-password","type","on","click","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports","default","__esModule","core","$JSON","JSON","stringify","it","apply","arguments"],"mappings":"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","file":"static/js/4.b55b25445e90bd3dcbf6.js","sourcesContent":["\n<template>\n  <div id=\"bg\">\n    <div id=\"login-bg\">\n      <img :src=\"logo\" alt=\"logo\" class=\"logo\">\n      <div style=\"margin:0 auto;\">\n        <h1 style=\"margin:0;color:white;font-size:50px;\">Sign in</h1>\n        <p>New user? <router-link to=\"/pc/signup\"><span style=\"color:#FF9F1C; text-decoration: underline;\">Create an account</span></router-link></p>\n        <div>\n          <p>Email:</p>\n          <el-input class=\"input\" v-model=\"email\" placeholder=\"yibo@usc.edu\"></el-input>\n        </div>\n        <div>\n          <p>Password:</p>\n          <el-input class=\"input\" v-model=\"password\" placeholder=\"test1234\" show-password></el-input>\n          <p>Forget Your Password? <router-link to=\"/pc/changePassword\"><span style=\"color:#FF9F1C; text-decoration: underline;\"> Reset Password</span></router-link></p>\n        </div>\n        <el-button id=\"signin-btn\" type=\"primary\" @click=\"signIn\">Sign In</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {signInWithEmailAndPassword} from \"firebase/auth\";\nimport {auth} from \"@/main\";\nimport api from \"@/config/api\";\nimport {Loading} from \"element-ui\";\nexport default {\n  name: \"login\",\n  data(){\n    return{\n      email:'',\n      password:'',\n      logo: require('@/assets/logo-b.svg')\n    }\n  },\n  methods: {\n    signIn(){\n      if (this.email === '' || this.password === '') {\n        this.$message.error(\"Please enter your email and your password.\")\n      } else {\n        let loading = Loading.service({\n          lock: true,\n          text: 'Loading...',\n          spinner: 'el-icon-loading',\n          background: 'white'\n        })\n        signInWithEmailAndPassword(auth, this.email, this.password).then((userCredential) => {\n          const user = userCredential.user;\n          user.getIdToken().then((result) => {\n            sessionStorage.setItem('user_info', JSON.stringify({'id_token': result, 'email': this.email, 'uid': user.uid}));\n            let userId = user.uid;\n            // ----- Call backend API to login -----\n            this.$axios.get(api.login, {params: {uid: userId}}).then((score) => {\n              loading.close();\n              sessionStorage.setItem('user_score', score);\n              this.$message.success(\"Successfully login.\");\n              setTimeout(() => {\n                this.$router.push('/pc/chat');\n              }, 2500);\n            }).catch(err => {\n              loading.close();\n              console.log(\"haha\");  // TODO\n              this.$message.error(err);\n            })\n          }).catch(err => {\n            loading.close();\n            console.log(err.code, err.message);\n            this.$message.error(\"Invalid email or password.\");\n          })\n          }).catch((error) => {\n            loading.close();\n            console.log(error.code, error.message);\n            if (error.code === \"auth/user-not-found\") {\n              this.$message.error(\"Unknown email address. Please register first!\");\n            } else {\n              this.$message.error(\"Invalid email or password.\");\n            }\n          });\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n#bg{\n  width:100%;\n  height:100%;\n  background:url(\"../../assets/bg.jpg\") no-repeat fixed;\n  box-sizing:border-box;\n  z-index:1;\n}\n#login-bg{\n  width:35%;\n  height:60%;\n  margin: 0 auto;\n  background: inherit;\n  position: relative;\n  top:12%;\n}\n#login-bg > div{\n  color:lightgray;\n  width:80%;\n  height: 100%;\n  position: absolute;\n  left:10%;\n  top:10%;\n  z-index: 11;\n}\n#login-bg:after{\n  content: \"\";\n  width:100%;\n  height:100%;\n  position: absolute;\n  left:0;\n  top:0;\n  background: inherit;\n  filter: blur(15px);\n  border:1px;\n  z-index: 2;\n}\n.logo{\n  width:100px;\n  height:100px;\n  position:absolute;\n  right:-4%;\n  top:-4%;\n  color:white;\n  z-index:3;\n}\n#signin-btn{\n  width:100%;\n  padding: 12px;\n  margin:30px 0px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/pc/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bg\"}},[_c('div',{attrs:{\"id\":\"login-bg\"}},[_c('img',{staticClass:\"logo\",attrs:{\"src\":_vm.logo,\"alt\":\"logo\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"0 auto\"}},[_c('h1',{staticStyle:{\"margin\":\"0\",\"color\":\"white\",\"font-size\":\"50px\"}},[_vm._v(\"Sign in\")]),_vm._v(\" \"),_c('p',[_vm._v(\"New user? \"),_c('router-link',{attrs:{\"to\":\"/pc/signup\"}},[_c('span',{staticStyle:{\"color\":\"#FF9F1C\",\"text-decoration\":\"underline\"}},[_vm._v(\"Create an account\")])])],1),_vm._v(\" \"),_c('div',[_c('p',[_vm._v(\"Email:\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"yibo@usc.edu\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_vm._v(\" \"),_c('div',[_c('p',[_vm._v(\"Password:\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"test1234\",\"show-password\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_vm._v(\" \"),_c('p',[_vm._v(\"Forget Your Password? \"),_c('router-link',{attrs:{\"to\":\"/pc/changePassword\"}},[_c('span',{staticStyle:{\"color\":\"#FF9F1C\",\"text-decoration\":\"underline\"}},[_vm._v(\" Reset Password\")])])],1)],1),_vm._v(\" \"),_c('el-button',{attrs:{\"id\":\"signin-btn\",\"type\":\"primary\"},on:{\"click\":_vm.signIn}},[_vm._v(\"Sign In\")])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0fff4498\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/pc/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0fff4498\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0fff4498\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0fff4498\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/pc/login.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 3 4","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 3 4"],"sourceRoot":""}