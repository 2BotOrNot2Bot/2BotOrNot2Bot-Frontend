{"version":3,"sources":["webpack:///src/pages/pc/changePassword.vue","webpack:///./src/pages/pc/changePassword.vue?d04b","webpack:///./src/pages/pc/changePassword.vue"],"names":["changePassword","name","data","email","logo","__webpack_require__","methods","sendResetLink","_this","this","trim","$message","error","auth","Object","index_esm","loading","element_ui_common","service","lock","text","spinner","background","then","close","success","setTimeout","$router","push","catch","errorCode","code","errorMessage","message","console","log","goToLogin","pc_changePassword","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","src","alt","_v","staticStyle","margin","color","font-size","placeholder","model","value","callback","$$v","expression","type","on","click","$event","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"sJAoBAA,GACAC,KAAA,iBACAC,KAFA,WAGA,OACAC,MAAA,GACAC,KAAAC,EAAA,UAGAC,SACAC,cADA,WACA,IAAAC,EAAAC,KACA,QAAAA,KAAAN,MAAAO,OACAD,KAAAE,SAAAC,MAAA,gCACA,CACA,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,GACAE,EAAAC,EAAA,QAAAC,SACAC,MAAA,EACAC,KAAA,yCACAC,QAAA,kBACAC,WAAA,UAEQR,OAAAC,EAAA,EAAAD,CAARD,EAAAJ,KAAAN,OACAoB,KAAA,WACAP,EAAAQ,QACAhB,EAAAG,SAAAc,QAAA,mGACAC,WAAA,WACAlB,EAAAmB,QAAAC,KAAA,cACA,QAEAC,MAAA,SAAAjB,GACAI,EAAAQ,QACA,IAAAM,EAAAlB,EAAAmB,KACA,0BAAAD,EACAtB,EAAAG,SAAAC,MAAA,wDACA,2BAAAkB,EACAtB,EAAAG,SAAAC,MAAA,oEACAc,WAAA,WACAlB,EAAAmB,QAAAC,KAAA,eACA,UACA,CACA,IAAAI,EAAApB,EAAAqB,QACAzB,EAAAG,SAAAC,MAAAkB,EAAA,IAAAE,GACAE,QAAAC,IAAAL,EAAAE,QAKAI,UAtCA,WAuCA3B,KAAAkB,QAAAC,KAAA,gBChEeS,GADEC,OAFjB,WAA0B,IAAAC,EAAA9B,KAAa+B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,QAAWH,EAAA,OAAYE,OAAOC,GAAA,cAAiBH,EAAA,OAAYI,YAAA,OAAAF,OAA0BG,IAAAR,EAAAnC,KAAA4C,IAAA,UAA6BT,EAAAU,GAAA,KAAAP,EAAA,OAAwBQ,aAAaC,OAAA,cAAqBT,EAAA,MAAWQ,aAAaC,OAAA,MAAAC,MAAA,QAAAC,YAAA,UAAmDd,EAAAU,GAAA,0BAAAV,EAAAU,GAAA,KAAAP,EAAA,OAAAA,EAAA,KAAAH,EAAAU,GAAA,iBAAAV,EAAAU,GAAA,KAAAP,EAAA,YAAoHI,YAAA,QAAAF,OAA2BU,YAAA,gBAA6BC,OAAQC,MAAAjB,EAAA,MAAAkB,SAAA,SAAAC,GAA2CnB,EAAApC,MAAAuD,GAAcC,WAAA,YAAqB,GAAApB,EAAAU,GAAA,KAAAP,EAAA,aAAkCI,YAAA,aAAAF,OAAgCgB,KAAA,WAAiBC,IAAKC,MAAA,SAAAC,GAAyB,OAAAxB,EAAAhC,oBAA6BgC,EAAAU,GAAA,8BAAAV,EAAAU,GAAA,KAAAP,EAAA,aAAmEI,YAAA,aAAAe,IAA6BC,MAAA,SAAAC,GAAyB,OAAAxB,EAAAH,gBAAyBG,EAAAU,GAAA,oCAEz3Be,oBCCjB,IAcAC,EAdyB5D,EAAQ,OAcjC6D,CACElE,EACAqC,GATF,EAVA,SAAA8B,GACE9D,EAAQ,SAaV,kBAEA,MAUe+D,EAAA,QAAAH,EAAiB","file":"static/js/5.eaf56170c38da281828f.js","sourcesContent":["<template>\n<div id=\"bg\">\n  <div id=\"login-bg\">\n    <img :src=\"logo\" alt=\"logo\" class=\"logo\">\n    <div style=\"margin:0px auto;\">\n      <h1 style=\"margin:0px;color:white;font-size:40px;\">Change your password</h1>\n      <div>\n        <p>Your Email:</p>\n        <el-input class=\"input\" v-model=\"email\" placeholder=\"yibo@usc.edu\"></el-input>\n      </div>\n      <el-button class=\"signin-btn\" type=\"primary\" v-on:click=\"sendResetLink()\">Send Password Reset Link</el-button>\n      <el-button class=\"signin-btn\" v-on:click=\"goToLogin()\">Go back to login page</el-button>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport { getAuth, sendPasswordResetEmail } from \"firebase/auth\";\nimport {Loading} from \"element-ui\";\nexport default {\n  name: \"changePassword\",\n  data(){\n    return{\n      email:'',\n      logo: require('@/assets/logo-b.svg')\n    }\n  },\n  methods: {\n    sendResetLink(){\n      if (this.email.trim() === '') {\n        this.$message.error(\"Please enter your email!\")\n      } else {\n        const auth = getAuth();\n        let loading = Loading.service({\n          lock: true,\n          text: 'Sending link for resetting password...',\n          spinner: 'el-icon-loading',\n          background: 'white'\n        })\n        sendPasswordResetEmail(auth, this.email)\n          .then(() => {\n            loading.close();\n            this.$message.success(\"Link for resetting password has been sent! Please check your email. Going back to login page...\")\n            setTimeout(() => {\n              this.$router.push('/pc/login');\n            }, 2500);\n          })\n          .catch((error) => {\n            loading.close();\n            const errorCode = error.code;\n            if (errorCode === 'auth/invalid-email') {\n              this.$message.error(\"The email address is invalid. Please try again.\");\n            } else if (errorCode === 'auth/user-not-found') {\n              this.$message.error(\"The email address is not registered. Jumping to register page...\");\n              setTimeout(() => {\n                this.$router.push('/pc/signup');\n              }, 2500);\n            } else {\n              const errorMessage = error.message;\n              this.$message.error(errorCode + ' ' + errorMessage)\n              console.log(errorCode, errorMessage);\n            }\n          });\n      }\n    },\n    goToLogin () {\n      this.$router.push('/pc/login')\n    }\n  }\n}\n</script>\n\n<style scoped>\n#bg{\n  width:100%;\n  height:100%;\n  background:url(\"../../assets/bg.jpg\") no-repeat fixed;\n  box-sizing:border-box;\n  z-index:1;\n}\n#login-bg{\n  width: 35%;\n  height: 50%;\n  margin: 0 auto;\n  background: inherit;\n  position: relative;\n  top: 20%;\n}\n#login-bg > div{\n  color:lightgray;\n  width:80%;\n  height: 100%;\n  position: absolute;\n  left:10%;\n  top:10%;\n  z-index: 11;\n}\n#login-bg:after{\n  content: \"\";\n  width:100%;\n  height:100%;\n  position: absolute;\n  left:0;\n  top:0;\n  background: inherit;\n  filter: blur(15px);\n  border:1px;\n  z-index: 2;\n}\n.logo{\n  width:100px;\n  height:100px;\n  position:absolute;\n  right:-9%;\n  top:-4%;\n  color:white;\n  z-index:3;\n}\n.signin-btn{\n  width:100%;\n  padding: 12px;\n  margin: 15px 0 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/pc/changePassword.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bg\"}},[_c('div',{attrs:{\"id\":\"login-bg\"}},[_c('img',{staticClass:\"logo\",attrs:{\"src\":_vm.logo,\"alt\":\"logo\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"0px auto\"}},[_c('h1',{staticStyle:{\"margin\":\"0px\",\"color\":\"white\",\"font-size\":\"40px\"}},[_vm._v(\"Change your password\")]),_vm._v(\" \"),_c('div',[_c('p',[_vm._v(\"Your Email:\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"yibo@usc.edu\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_vm._v(\" \"),_c('el-button',{staticClass:\"signin-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.sendResetLink()}}},[_vm._v(\"Send Password Reset Link\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"signin-btn\",on:{\"click\":function($event){return _vm.goToLogin()}}},[_vm._v(\"Go back to login page\")])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f8c31ce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/pc/changePassword.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f8c31ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./changePassword.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./changePassword.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./changePassword.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f8c31ce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./changePassword.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f8c31ce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/pc/changePassword.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}