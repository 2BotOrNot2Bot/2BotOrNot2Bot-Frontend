webpackJsonp([4],{M348:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=t("mvHQ"),n=t.n(o),a=t("dih4"),i=t("NHnr"),r=t("2hMI"),l=t("zL8q"),c={name:"login",data:function(){return{email:"",password:"",logo:t("/Olo")}},methods:{signIn:function(){var e=this;if(""===this.email||""===this.password)this.$message.error("Please enter your email and your password.");else{var s=l.Loading.service({lock:!0,text:"Loading...",spinner:"el-icon-loading",background:"white"});Object(a.d)(i.auth,this.email,this.password).then(function(t){var o=t.user;o.getIdToken().then(function(t){sessionStorage.setItem("user_info",n()({id_token:t,email:e.email,uid:o.uid}));var a=o.uid;e.$axios.get(r.a.login,{params:{uid:a}}).then(function(t){s.close(),sessionStorage.setItem("user_score",t),e.$message.success("Successfully login."),setTimeout(function(){e.$router.push("/pc/chat")},2500)}).catch(function(t){s.close(),console.log("haha"),e.$message.error(t)})}).catch(function(t){s.close(),console.log(t.code,t.message),e.$message.error("Invalid email or password.")})}).catch(function(t){s.close(),console.log(t.code,t.message),"auth/user-not-found"===t.code?e.$message.error("Unknown email address. Please register first!"):e.$message.error("Invalid email or password.")})}}}},u={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"bg"}},[t("div",{attrs:{id:"login-bg"}},[t("img",{staticClass:"logo",attrs:{src:e.logo,alt:"logo"}}),e._v(" "),t("div",{staticStyle:{margin:"0 auto"}},[t("h1",{staticStyle:{margin:"0",color:"white","font-size":"50px"}},[e._v("Sign in")]),e._v(" "),t("p",[e._v("New user? "),t("router-link",{attrs:{to:"/pc/signup"}},[t("span",{staticStyle:{color:"#FF9F1C","text-decoration":"underline"}},[e._v("Create an account")])])],1),e._v(" "),t("div",[t("p",[e._v("Email:")]),e._v(" "),t("el-input",{staticClass:"input",attrs:{placeholder:"yibo@usc.edu"},model:{value:e.email,callback:function(s){e.email=s},expression:"email"}})],1),e._v(" "),t("div",[t("p",[e._v("Password:")]),e._v(" "),t("el-input",{staticClass:"input",attrs:{placeholder:"test1234","show-password":""},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),e._v(" "),t("p",[e._v("Forget Your Password? "),t("router-link",{attrs:{to:"/pc/changePassword"}},[t("span",{staticStyle:{color:"#FF9F1C","text-decoration":"underline"}},[e._v(" Reset Password")])])],1)],1),e._v(" "),t("el-button",{attrs:{id:"signin-btn",type:"primary"},on:{click:e.signIn}},[e._v("Sign In")])],1)])])},staticRenderFns:[]};var d=t("VU/8")(c,u,!1,function(e){t("be7F")},"data-v-0fff4498",null);s.default=d.exports},be7F:function(e,s){},mvHQ:function(e,s,t){e.exports={default:t("qkKv"),__esModule:!0}},qkKv:function(e,s,t){var o=t("FeBl"),n=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}}});
//# sourceMappingURL=4.b55b25445e90bd3dcbf6.js.map