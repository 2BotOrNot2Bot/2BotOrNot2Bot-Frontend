{"version":3,"sources":["webpack:///src/pages/pc/signup.vue","webpack:///./src/pages/pc/signup.vue?abff","webpack:///./src/pages/pc/signup.vue","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js"],"names":["pc_signup","name","data","email","password","confirm","logo","__webpack_require__","methods","signup","_this","this","$message","error","loading","element_ui_common","service","lock","text","spinner","background","Object","index_esm","main","then","userCredential","user","getIdToken","result","sessionStorage","setItem","stringify_default","id_token","uid","userid","$axios","post","api","res","close","success","setTimeout","$router","push","catch","err","console","log","code","message","pages_pc_signup","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","src","alt","_v","staticStyle","margin","color","font-size","to","text-decoration","placeholder","model","value","callback","$$v","expression","show-password","type","on","click","$event","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports","default","__esModule","core","$JSON","JSON","stringify","it","apply","arguments"],"mappings":"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","file":"static/js/3.1900501e8bf0a167b224.js","sourcesContent":["<template>\n<div id=\"bg\">\n  <div id=\"signup-bg\">\n      <img :src=\"logo\" alt=\"logo\" class=\"logo\">\n    <div style=\"margin:0px auto;\">\n      <h1 style=\"margin:0px;color:white;font-size:50px;\">Sign up</h1>\n      <p>Already have an account? <router-link to=\"/pc/login\"><span style=\"color:#FF9F1C; text-decoration: underline;\">Sign in Here</span></router-link></p>\n      <div>\n        <p>Email:</p>\n        <el-input class=\"input\" v-model=\"email\" placeholder=\"yibo@usc.edu\"></el-input>\n      </div>\n\n      <div>\n        <p>Password:</p>\n        <el-input class=\"input\" v-model=\"password\" placeholder=\"test1234\" show-password></el-input>\n      </div>\n\n      <div>\n        <p>Confirm Password:</p>\n        <el-input class=\"input\" v-model=\"confirm\" placeholder=\"test1234\" show-password></el-input>\n      </div>\n\n      <el-button id=\"signup-btn\" type=\"primary\" v-on:click=\"signup()\">Sign Up</el-button>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport api from \"@/config/api\";\nimport {auth} from \"@/main\";\nimport {createUserWithEmailAndPassword} from \"firebase/auth\";\nimport {Loading, Message} from \"element-ui\";\nexport default {\n  name: \"signup\",\n  data(){\n    return{\n      email:'',\n      password:'',\n      confirm:'',\n      logo: require('@/assets/logo-b.svg')\n    }\n  },\n  methods: {\n    signup(){\n      if (this.email === '' || this.password === '') {\n        this.$message.error(\"Please enter your email and password\");\n      } else if (this.password !== this.confirm) {\n        this.$message.error(\"Passwords do not match.\");\n      } else {\n        // Register with firebase\n        let loading = Loading.service({\n          lock: true,\n          text: 'Loading...',\n          spinner: 'el-icon-loading',\n          background: 'white'\n        })\n        createUserWithEmailAndPassword(auth, this.email, this.password)\n          .then((userCredential) => {\n            const user = userCredential.user;\n            user.getIdToken().then((result) => {\n              sessionStorage.setItem('user_info', JSON.stringify({'id_token': result, 'email': this.email, 'uid': user.uid}));\n              let userid = user.uid;\n              // Sign up by calling sign up API of the backend\n              this.$axios.post(api.signup,\n              {\n                uid: userid\n              }\n              ).then(res => {\n                loading.close();\n                this.$message.success(\"Successfully sign up.\");\n                setTimeout(() => {\n                  this.$router.push('/pc/chat');\n                }, 2500);\n              }).catch(err => {\n                loading.close();\n                this.$message.error(err);\n                console.log(err)\n              })\n            }).catch(err => {\n              loading.close();\n              console.log(err.code, err.message);\n              this.$message.error(err.message);\n            })\n          })\n          .catch((error) => {\n            loading.close();\n            if (error.code === 'auth/email-already-in-use') {\n              Message.error(\"Email has already been used. Please try log in. Jumping to log in page now...\")\n              setTimeout(() => {\n                this.$router.push('/pc/login')\n              }, 2000);\n            } else if (error.code === 'auth/weak-password') {\n              Message.error(\"Password should be at least 6 characters. Please try again with stronger password\");\n            } else {\n              Message.error(\"Error signing up. Please contact admin or try again later.\");\n              console.log(error.code, error.message)\n            }\n          });\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n#bg{\n  width:100%;\n  height:100%;\n  background:url(\"../../assets/bg.jpg\") no-repeat fixed;\n  box-sizing:border-box;\n  z-index:1;\n}\n#signup-bg{\n  width:35%;\n  height:75%;\n  margin: 0 auto;\n  background: inherit;\n  position: relative;\n  top:12%;\n}\n#signup-bg > div{\n  color:lightgray;\n  width:80%;\n  height: 100%;\n  position: absolute;\n  left:10%;\n  top:10%;\n  z-index: 11;\n}\n#signup-bg:after{\n  content: \"\";\n  width:100%;\n  height:100%;\n  position: absolute;\n  left:0;\n  top:0;\n  background: inherit;\n  filter: blur(15px);\n  border:1px;\n  z-index: 2;\n}\n\n#signup-btn{\n  width:100%;\n  padding: 12px;\n  margin:30px 0;\n}\n.logo{\n  width:100px;\n  height:100px;\n  position:absolute;\n  right:-4%;\n  top:-4%;\n  color:white;\n  z-index:3;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/pc/signup.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"bg\"}},[_c('div',{attrs:{\"id\":\"signup-bg\"}},[_c('img',{staticClass:\"logo\",attrs:{\"src\":_vm.logo,\"alt\":\"logo\"}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"0px auto\"}},[_c('h1',{staticStyle:{\"margin\":\"0px\",\"color\":\"white\",\"font-size\":\"50px\"}},[_vm._v(\"Sign up\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Already have an account? \"),_c('router-link',{attrs:{\"to\":\"/pc/login\"}},[_c('span',{staticStyle:{\"color\":\"#FF9F1C\",\"text-decoration\":\"underline\"}},[_vm._v(\"Sign in Here\")])])],1),_vm._v(\" \"),_c('div',[_c('p',[_vm._v(\"Email:\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"yibo@usc.edu\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_vm._v(\" \"),_c('div',[_c('p',[_vm._v(\"Password:\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"test1234\",\"show-password\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_vm._v(\" \"),_c('div',[_c('p',[_vm._v(\"Confirm Password:\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"input\",attrs:{\"placeholder\":\"test1234\",\"show-password\":\"\"},model:{value:(_vm.confirm),callback:function ($$v) {_vm.confirm=$$v},expression:\"confirm\"}})],1),_vm._v(\" \"),_c('el-button',{attrs:{\"id\":\"signup-btn\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.signup()}}},[_vm._v(\"Sign Up\")])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11793473\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/pc/signup.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-11793473\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./signup.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./signup.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./signup.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-11793473\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./signup.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-11793473\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/pc/signup.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 3 4","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 3 4"],"sourceRoot":""}